<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A Boolean Algebra for C++ - Modern header-only interval set library"><meta name=author content=Anonymous><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.21"><title>Elegant Disjoint Interval Set API - Disjoint Interval Set (DIS)</title><link rel=stylesheet href=../../assets/stylesheets/main.2a3383ac.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#elegant-disjoint-interval-set-api class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Disjoint Interval Set (DIS)" class="md-header__button md-logo" aria-label="Disjoint Interval Set (DIS)" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Disjoint Interval Set (DIS) </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Elegant Disjoint Interval Set API </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/yourusername/disjoint_interval_set title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> disjoint_interval_set </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../technical-report/ class=md-tabs__link> Technical Report </a> </li> <li class=md-tabs__item> <a href=../../api/interval/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../guide/basic-operations/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../about/contributing/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Disjoint Interval Set (DIS)" class="md-nav__button md-logo" aria-label="Disjoint Interval Set (DIS)" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Disjoint Interval Set (DIS) </label> <div class=md-nav__source> <a href=https://github.com/yourusername/disjoint_interval_set title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> disjoint_interval_set </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Technical Report </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Technical Report </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../technical-report/ class=md-nav__link> <span class=md-ellipsis> Complete Report </span> </a> </li> <li class=md-nav__item> <a href=../../technical-report/introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../technical-report/mathematical-foundation/ class=md-nav__link> <span class=md-ellipsis> Mathematical Foundation </span> </a> </li> <li class=md-nav__item> <a href=../../technical-report/design-implementation/ class=md-nav__link> <span class=md-ellipsis> Design & Implementation </span> </a> </li> <li class=md-nav__item> <a href=../../technical-report/performance/ class=md-nav__link> <span class=md-ellipsis> Performance Analysis </span> </a> </li> <li class=md-nav__item> <a href=../../technical-report/applications/ class=md-nav__link> <span class=md-ellipsis> Applications </span> </a> </li> <li class=md-nav__item> <a href=../../technical-report/related-work/ class=md-nav__link> <span class=md-ellipsis> Related Work </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../api/interval/ class=md-nav__link> <span class=md-ellipsis> Interval Class </span> </a> </li> <li class=md-nav__item> <a href=../../api/disjoint-interval-set/ class=md-nav__link> <span class=md-ellipsis> Disjoint Interval Set </span> </a> </li> <li class=md-nav__item> <a href=../../api/parser-formatter/ class=md-nav__link> <span class=md-ellipsis> Parser & Formatter </span> </a> </li> <li class=md-nav__item> <a href=../../api/type-aliases/ class=md-nav__link> <span class=md-ellipsis> Type Aliases </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guide/basic-operations/ class=md-nav__link> <span class=md-ellipsis> Basic Operations </span> </a> </li> <li class=md-nav__item> <a href=../../guide/set-operations/ class=md-nav__link> <span class=md-ellipsis> Set Operations </span> </a> </li> <li class=md-nav__item> <a href=../../guide/string-dsl/ class=md-nav__link> <span class=md-ellipsis> String DSL </span> </a> </li> <li class=md-nav__item> <a href=../../guide/functional-programming/ class=md-nav__link> <span class=md-ellipsis> Functional Programming </span> </a> </li> <li class=md-nav__item> <a href=../../guide/compile-time-intervals/ class=md-nav__link> <span class=md-ellipsis> Compile-Time Intervals </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../../about/license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class=md-nav__item> <a href=../../about/citation/ class=md-nav__link> <span class=md-ellipsis> Citation </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#key-design-principles class=md-nav__link> <span class=md-ellipsis> Key Design Principles </span> </a> </li> <li class=md-nav__item> <a href=#architecture class=md-nav__link> <span class=md-ellipsis> Architecture </span> </a> </li> <li class=md-nav__item> <a href=#core-features class=md-nav__link> <span class=md-ellipsis> Core Features </span> </a> <nav class=md-nav aria-label="Core Features"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#intervals class=md-nav__link> <span class=md-ellipsis> Intervals </span> </a> </li> <li class=md-nav__item> <a href=#disjoint-interval-sets class=md-nav__link> <span class=md-ellipsis> Disjoint Interval Sets </span> </a> </li> <li class=md-nav__item> <a href=#dis-specific-queries class=md-nav__link> <span class=md-ellipsis> DIS-Specific Queries </span> </a> </li> <li class=md-nav__item> <a href=#functional-operations class=md-nav__link> <span class=md-ellipsis> Functional Operations </span> </a> </li> <li class=md-nav__item> <a href=#string-dsl class=md-nav__link> <span class=md-ellipsis> String DSL </span> </a> </li> <li class=md-nav__item> <a href=#visualization class=md-nav__link> <span class=md-ellipsis> Visualization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#comparison-with-original-implementation class=md-nav__link> <span class=md-ellipsis> Comparison with Original Implementation </span> </a> <nav class=md-nav aria-label="Comparison with Original Implementation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#improvements class=md-nav__link> <span class=md-ellipsis> Improvements </span> </a> </li> <li class=md-nav__item> <a href=#simplifications class=md-nav__link> <span class=md-ellipsis> Simplifications </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#usage-examples class=md-nav__link> <span class=md-ellipsis> Usage Examples </span> </a> <nav class=md-nav aria-label="Usage Examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#resource-scheduling class=md-nav__link> <span class=md-ellipsis> Resource Scheduling </span> </a> </li> <li class=md-nav__item> <a href=#data-range-analysis class=md-nav__link> <span class=md-ellipsis> Data Range Analysis </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#building-and-testing class=md-nav__link> <span class=md-ellipsis> Building and Testing </span> </a> </li> <li class=md-nav__item> <a href=#future-enhancements class=md-nav__link> <span class=md-ellipsis> Future Enhancements </span> </a> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=elegant-disjoint-interval-set-api>Elegant Disjoint Interval Set API<a class=headerlink href=#elegant-disjoint-interval-set-api title="Permanent link">&para;</a></h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>This is a completely redesigned implementation of the Disjoint Interval Set (DIS) library, following the principles of simplicity, composability, and mathematical elegance. The new API lives in the <code>dis</code> namespace and provides a clean, intuitive interface for working with intervals and interval sets.</p> <h2 id=key-design-principles>Key Design Principles<a class=headerlink href=#key-design-principles title="Permanent link">&para;</a></h2> <ol> <li><strong>Simplicity</strong>: Every component does one thing exceptionally well</li> <li><strong>Composability</strong>: Operations naturally compose together</li> <li><strong>Mathematical Rigor</strong>: Models true mathematical concepts accurately</li> <li><strong>Zero-Cost Abstractions</strong>: Template-based design with compile-time optimization</li> <li><strong>Multiple Expression Styles</strong>: Support both mathematical notation and programming idioms</li> </ol> <h2 id=architecture>Architecture<a class=headerlink href=#architecture title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>include/dis/
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>├── core/                       # Essential functionality
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>│   ├── interval.hpp           # Single interval implementation
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>│   └── disjoint_interval_set.hpp  # Set of disjoint intervals
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>├── io/                        # Input/Output utilities
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>│   ├── parser.hpp            # String DSL parser
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>│   └── format.hpp            # Formatting and visualization
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>└── dis.hpp                   # Main header file
</code></pre></div> <h2 id=core-features>Core Features<a class=headerlink href=#core-features title="Permanent link">&para;</a></h2> <h3 id=intervals>Intervals<a class=headerlink href=#intervals title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>dis</span><span class=p>;</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=c1>// Multiple factory methods for clarity</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=k>auto</span><span class=w> </span><span class=n>closed</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_interval</span><span class=o>::</span><span class=n>closed</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w>         </span><span class=c1>// [0, 10]</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=k>auto</span><span class=w> </span><span class=n>open</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_interval</span><span class=o>::</span><span class=n>open</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w>            </span><span class=c1>// (0, 10)</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=k>auto</span><span class=w> </span><span class=n>point</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_interval</span><span class=o>::</span><span class=n>point</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span><span class=w>              </span><span class=c1>// {5}</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=k>auto</span><span class=w> </span><span class=n>unbounded</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_interval</span><span class=o>::</span><span class=n>unbounded</span><span class=p>();</span><span class=w>       </span><span class=c1>// (-∞, ∞)</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=k>auto</span><span class=w> </span><span class=n>positive</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_interval</span><span class=o>::</span><span class=n>greater_than</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span><span class=w>    </span><span class=c1>// (0, ∞)</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=c1>// Rich queries</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=kt>bool</span><span class=w> </span><span class=n>contains</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>closed</span><span class=p>.</span><span class=n>contains</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=kt>bool</span><span class=w> </span><span class=n>overlaps</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>closed</span><span class=p>.</span><span class=n>overlaps</span><span class=p>(</span><span class=n>open</span><span class=p>);</span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=kt>double</span><span class=w> </span><span class=n>length</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>closed</span><span class=p>.</span><span class=n>length</span><span class=p>();</span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=kt>double</span><span class=w> </span><span class=n>midpoint</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>closed</span><span class=p>.</span><span class=n>midpoint</span><span class=p>();</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=c1>// Set operations</span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=k>auto</span><span class=w> </span><span class=n>intersection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>closed</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>open</span><span class=p>;</span><span class=w>  </span><span class=c1>// or closed.intersect(open)</span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=k>auto</span><span class=w> </span><span class=n>hull</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>closed</span><span class=p>.</span><span class=n>hull</span><span class=p>(</span><span class=n>open</span><span class=p>);</span><span class=w>     </span><span class=c1>// Convex hull if possible</span>
</code></pre></div> <h3 id=disjoint-interval-sets>Disjoint Interval Sets<a class=headerlink href=#disjoint-interval-sets title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1>// Fluent construction</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>auto</span><span class=w> </span><span class=n>set</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_set</span><span class=p>{}</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span><span class=p>.</span><span class=n>add</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>)</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span><span class=p>.</span><span class=n>add</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>)</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>    </span><span class=p>.</span><span class=n>add</span><span class=p>(</span><span class=mi>25</span><span class=p>,</span><span class=w> </span><span class=mi>35</span><span class=p>);</span><span class=w>  </span><span class=c1>// Automatically merged with [20,30]</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=c1>// From string notation</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=k>auto</span><span class=w> </span><span class=n>parsed</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_set</span><span class=o>::</span><span class=n>from_string</span><span class=p>(</span><span class=s>&quot;[0,10] U [20,30] U {50}&quot;</span><span class=p>);</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=c1>// Set operations with multiple notations</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=k>auto</span><span class=w> </span><span class=n>union_set</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>set2</span><span class=p>;</span><span class=w>      </span><span class=c1>// Union</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=k>auto</span><span class=w> </span><span class=n>intersection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set1</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>set2</span><span class=p>;</span><span class=w>    </span><span class=c1>// Intersection</span>
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=k>auto</span><span class=w> </span><span class=n>difference</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set1</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>set2</span><span class=p>;</span><span class=w>      </span><span class=c1>// Difference</span>
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=k>auto</span><span class=w> </span><span class=n>symmetric</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set1</span><span class=w> </span><span class=o>^</span><span class=w> </span><span class=n>set2</span><span class=p>;</span><span class=w>       </span><span class=c1>// Symmetric difference</span>
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=k>auto</span><span class=w> </span><span class=n>complement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>~</span><span class=n>set1</span><span class=p>;</span><span class=w>            </span><span class=c1>// Complement</span>
</code></pre></div> <h3 id=dis-specific-queries>DIS-Specific Queries<a class=headerlink href=#dis-specific-queries title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1>// Component analysis</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=k>auto</span><span class=w> </span><span class=n>span</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set</span><span class=p>.</span><span class=n>span</span><span class=p>();</span><span class=w>           </span><span class=c1>// Convex hull of all intervals</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=k>auto</span><span class=w> </span><span class=n>gaps</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set</span><span class=p>.</span><span class=n>gaps</span><span class=p>();</span><span class=w>           </span><span class=c1>// Intervals between components</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=kt>size_t</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set</span><span class=p>.</span><span class=n>component_count</span><span class=p>();</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=c1>// Measure operations</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=kt>double</span><span class=w> </span><span class=n>measure</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set</span><span class=p>.</span><span class=n>measure</span><span class=p>();</span><span class=w>       </span><span class=c1>// Total length</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=kt>double</span><span class=w> </span><span class=n>gap_measure</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set</span><span class=p>.</span><span class=n>gap_measure</span><span class=p>();</span><span class=w> </span><span class=c1>// Total gap length</span>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=kt>double</span><span class=w> </span><span class=n>density</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set</span><span class=p>.</span><span class=n>density</span><span class=p>();</span><span class=w>       </span><span class=c1>// measure / span.length</span>
</code></pre></div> <h3 id=functional-operations>Functional Operations<a class=headerlink href=#functional-operations title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c1>// Filter intervals by predicate</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=k>auto</span><span class=w> </span><span class=n>large</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set</span><span class=p>.</span><span class=n>filter</span><span class=p>([](</span><span class=k>const</span><span class=w> </span><span class=k>auto</span><span class=o>&amp;</span><span class=w> </span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>i</span><span class=p>.</span><span class=n>length</span><span class=p>()</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=p>});</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=c1>// Transform intervals</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=k>auto</span><span class=w> </span><span class=n>scaled</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>set</span><span class=p>.</span><span class=n>map</span><span class=p>([](</span><span class=k>const</span><span class=w> </span><span class=k>auto</span><span class=o>&amp;</span><span class=w> </span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>real_interval</span><span class=o>::</span><span class=n>closed</span><span class=p>(</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>        </span><span class=o>*</span><span class=n>i</span><span class=p>.</span><span class=n>lower_bound</span><span class=p>()</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>2</span><span class=p>,</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=w>        </span><span class=o>*</span><span class=n>i</span><span class=p>.</span><span class=n>upper_bound</span><span class=p>()</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=w>    </span><span class=p>);</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=p>});</span>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=c1>// Iterate with action</span>
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=n>set</span><span class=p>.</span><span class=n>for_each</span><span class=p>([](</span><span class=k>const</span><span class=w> </span><span class=k>auto</span><span class=o>&amp;</span><span class=w> </span><span class=n>interval</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>interval</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=sc>&#39;\n&#39;</span><span class=p>;</span>
<a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=p>});</span>
</code></pre></div> <h3 id=string-dsl>String DSL<a class=headerlink href=#string-dsl title="Permanent link">&para;</a></h3> <p>The parser supports mathematical notation:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1>// Standard notation</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=s>&quot;[0,10]&quot;</span><span class=w>        </span><span class=c1>// Closed interval</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=s>&quot;(0,10)&quot;</span><span class=w>        </span><span class=c1>// Open interval</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=s>&quot;[0,10)&quot;</span><span class=w>        </span><span class=c1>// Half-open interval</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=s>&quot;{5}&quot;</span><span class=w>           </span><span class=c1>// Singleton</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=s>&quot;{}&quot;</span><span class=w>            </span><span class=c1>// Empty set</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=c1>// Set operations (both ASCII and Unicode)</span>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=s>&quot;[0,10] U [20,30]&quot;</span><span class=w>          </span><span class=c1>// Union</span>
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=s>&quot;[0,10] &amp; [20,30]&quot;</span><span class=w>          </span><span class=c1>// Intersection</span>
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=s>&quot;[0,10] </span><span class=se>\\</span><span class=s> [5,15]&quot;</span><span class=w>          </span><span class=c1>// Difference</span>
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=s>&quot;[0,10] ^ [5,15]&quot;</span><span class=w>           </span><span class=c1>// Symmetric difference</span>
</code></pre></div> <h3 id=visualization>Visualization<a class=headerlink href=#visualization title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1>// Different output formats</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=k>auto</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>interval_formatter</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;::</span><span class=n>format</span><span class=p>(</span><span class=n>set</span><span class=p>,</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=n>interval_formatter</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;::</span><span class=n>Style</span><span class=o>::</span><span class=n>Mathematical</span><span class=p>);</span><span class=w>   </span><span class=c1>// [0,10] U [20,30]</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=c1>// ASCII visualization</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>interval_formatter</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;::</span><span class=n>visualize</span><span class=p>(</span><span class=n>set</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>60</span><span class=p>);</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=c1>// Output: .....[=====]......[=====]........................</span>
</code></pre></div> <h2 id=comparison-with-original-implementation>Comparison with Original Implementation<a class=headerlink href=#comparison-with-original-implementation title="Permanent link">&para;</a></h2> <h3 id=improvements>Improvements<a class=headerlink href=#improvements title="Permanent link">&para;</a></h3> <ol> <li><strong>Cleaner API</strong>: Named constructors, fluent interface, consistent naming</li> <li><strong>Better Composability</strong>: All operations return values, enabling chaining</li> <li><strong>Richer Queries</strong>: gaps(), span(), density(), measure() operations</li> <li><strong>String DSL</strong>: Parse mathematical notation directly</li> <li><strong>Functional Style</strong>: filter(), map(), for_each() operations</li> <li><strong>Multiple Notations</strong>: Support both mathematical (∪, ∩) and programming (&amp;, |) operators</li> <li><strong>Better Organization</strong>: Clean separation of concerns with core/io/extensions</li> </ol> <h3 id=simplifications>Simplifications<a class=headerlink href=#simplifications title="Permanent link">&para;</a></h3> <ol> <li><strong>Single Responsibility</strong>: Each class does one thing well</li> <li><strong>Value Semantics</strong>: Immutable operations by default</li> <li><strong>Template Simplicity</strong>: Straightforward template parameters</li> <li><strong>Clear Invariants</strong>: Automatic normalization maintains disjoint property</li> </ol> <h2 id=usage-examples>Usage Examples<a class=headerlink href=#usage-examples title="Permanent link">&para;</a></h2> <h3 id=resource-scheduling>Resource Scheduling<a class=headerlink href=#resource-scheduling title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>auto</span><span class=w> </span><span class=n>room_available</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_set</span><span class=p>{}</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>    </span><span class=p>.</span><span class=n>add</span><span class=p>(</span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=mi>9</span><span class=p>)</span><span class=w>      </span><span class=c1>// 8 AM - 9 AM</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>    </span><span class=p>.</span><span class=n>add</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>12</span><span class=p>)</span><span class=w>    </span><span class=c1>// 10 AM - 12 PM</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>    </span><span class=p>.</span><span class=n>add</span><span class=p>(</span><span class=mi>14</span><span class=p>,</span><span class=w> </span><span class=mi>17</span><span class=p>);</span><span class=w>   </span><span class=c1>// 2 PM - 5 PM</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=k>auto</span><span class=w> </span><span class=n>meeting</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_interval</span><span class=o>::</span><span class=n>closed</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>11</span><span class=p>);</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>room_available</span><span class=p>.</span><span class=n>contains</span><span class=p>(</span><span class=n>meeting</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Meeting can be scheduled</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>;</span>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=p>}</span>
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=k>auto</span><span class=w> </span><span class=n>utilization</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>room_available</span><span class=p>.</span><span class=n>measure</span><span class=p>()</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>room_available</span><span class=p>.</span><span class=n>span</span><span class=p>().</span><span class=n>length</span><span class=p>();</span>
</code></pre></div> <h3 id=data-range-analysis>Data Range Analysis<a class=headerlink href=#data-range-analysis title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>auto</span><span class=w> </span><span class=n>valid_ranges</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_set</span><span class=o>::</span><span class=n>from_string</span><span class=p>(</span><span class=s>&quot;[0,100] U [200,300]&quot;</span><span class=p>);</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=k>auto</span><span class=w> </span><span class=n>query_range</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>real_interval</span><span class=o>::</span><span class=n>closed</span><span class=p>(</span><span class=mi>50</span><span class=p>,</span><span class=w> </span><span class=mi>250</span><span class=p>);</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=k>auto</span><span class=w> </span><span class=n>valid_portion</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>valid_ranges</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>real_set</span><span class=p>{</span><span class=n>query_range</span><span class=p>};</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Valid data in range: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>valid_portion</span><span class=p>.</span><span class=n>measure</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; units</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>;</span>
</code></pre></div> <h2 id=building-and-testing>Building and Testing<a class=headerlink href=#building-and-testing title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1># Compile tests</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>g++<span class=w> </span>-std<span class=o>=</span>c++20<span class=w> </span>-O2<span class=w> </span>-I./include<span class=w> </span>-o<span class=w> </span><span class=nb>test</span><span class=w> </span>tests/test_elegant_api.cpp
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>./test
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=c1># Compile examples</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>g++<span class=w> </span>-std<span class=o>=</span>c++20<span class=w> </span>-O2<span class=w> </span>-I./include<span class=w> </span>-o<span class=w> </span>demo<span class=w> </span>examples/elegant_api_demo.cpp
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>./demo
</code></pre></div> <h2 id=future-enhancements>Future Enhancements<a class=headerlink href=#future-enhancements title="Permanent link">&para;</a></h2> <p>While the core API is complete and elegant, potential extensions include:</p> <ol> <li><strong>Compile-time intervals</strong>: Static intervals for compile-time validation</li> <li><strong>Multi-dimensional support</strong>: Hyperrectangles and boxes</li> <li><strong>Custom boundary types</strong>: Support for discrete types, dates, etc.</li> <li><strong>Lazy evaluation</strong>: For complex operation chains</li> <li><strong>Parallel algorithms</strong>: For large-scale interval processing</li> </ol> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>This implementation demonstrates how a focused, well-designed API can make complex mathematical concepts accessible and enjoyable to work with. The library follows the Unix philosophy of doing one thing well, while providing multiple ways to express operations for different use cases and preferences.</p> <p>The result is a library that is: - <strong>Simple</strong> to understand and use - <strong>Powerful</strong> enough for complex applications - <strong>Elegant</strong> in its design and implementation - <strong>Composable</strong> for building larger systems - <strong>Efficient</strong> with zero-cost abstractions</p> <p>This is the kind of API that would be worthy of inclusion in Boost or the C++ standard library.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/yourusername/disjoint_interval_set target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../javascripts/mathjax.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>